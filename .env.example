# ============================================
# Norman - Japanese Legal RAG System
# Environment Configuration Template
# ============================================
# Copy this file to .env and fill in your values:
# cp .env.example .env

# --------------------------------------------
# OpenAI Configuration (Embeddings & LLM)
# --------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# Options: text-embedding-3-small (1536 dims), text-embedding-3-large (3072 dims)
OPENAI_EMBEDDING_DIMENSIONS=1536
OPENAI_LLM_MODEL=gpt-4o-mini
# Options: gpt-4o, gpt-4o-mini, gpt-4-turbo

# --------------------------------------------
# Qdrant Vector Database (Self-hosted)
# --------------------------------------------
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_COLLECTION_NAME=japanese_laws
# Optional: API key for Qdrant Cloud or secured instances
# QDRANT_API_KEY=your-qdrant-api-key

# --------------------------------------------
# Neo4j Graph Database (Future - Phase 4)
# --------------------------------------------
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your-neo4j-password

# --------------------------------------------
# Reranker Configuration (Phase 2)
# --------------------------------------------
# Options: cohere, bge, none
RERANKER_TYPE=cohere
COHERE_API_KEY=your-cohere-api-key-here
# For local BGE reranker:
# BGE_RERANKER_MODEL=BAAI/bge-reranker-large

# --------------------------------------------
# Search Configuration
# --------------------------------------------
# Number of initial candidates from vector search
SEARCH_TOP_K=20
# Number of final results after reranking
SEARCH_FINAL_K=5
# Minimum similarity score threshold (0.0 - 1.0)
SEARCH_MIN_SCORE=0.5

# --------------------------------------------
# API Server Configuration
# --------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
# Options: development, production
ENVIRONMENT=development

# --------------------------------------------
# Logging Configuration
# --------------------------------------------
# Options: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# --------------------------------------------
# Rate Limiting (for OpenAI API)
# --------------------------------------------
OPENAI_REQUESTS_PER_MINUTE=500
OPENAI_TOKENS_PER_MINUTE=150000
EMBEDDING_BATCH_SIZE=100

# --------------------------------------------
# Data Paths
# --------------------------------------------
DATA_RAW_DIR=data/xml_raw
DATA_PROCESSED_DIR=data/processed
DATA_CHUNKS_DIR=data/chunks
DATA_EMBEDDINGS_DIR=data/embeddings
